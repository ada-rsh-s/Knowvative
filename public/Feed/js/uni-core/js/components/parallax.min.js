/*! UniCore 3.15.20 | https://unistudio.co | (c) 2023 - 2023 UniStudio | MIT License */
/*! UniCore 3.15.20 | https://unistudio.co | (c) 2023 - 2023 UniStudio | MIT License */!function(t,e){"object"==typeof exports&&typeof module<"u"?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitparallax",["uikit-util"],e):(t=typeof globalThis<"u"?globalThis:t||self).UniCoreParallax=e(t.UniCore.util)}(this,(function(t){"use strict";var e={connected(){var e;this.registerObserver(t.observeResize((null==(e=this.$options.resizeTargets)?void 0:e.call(this))||this.$el,(()=>this.$emit("resize"))))}},n={connected(){var e,n;e=this._uid,n=()=>this.$emit("scroll"),r=r||t.on(window,"scroll",(()=>i.forEach((t=>t()))),{passive:!0,capture:!0}),i.set(e,n)},disconnected(){var t;t=this._uid,i.delete(t),r&&!i.size&&(r(),r=null)}};const i=new Map;let r;var o={props:{media:Boolean},data:{media:!1},connected(){const e=function(e,n){if(t.isString(e))if(t.startsWith(e,"@"))e=t.toFloat(t.css(n,`--uc-breakpoint-${e.substr(1)}`));else if(isNaN(e))return e;return e&&t.isNumeric(e)?`(min-width: ${e}px)`:""}(this.media,this.$el);if(this.matchMedia=!0,e){this.mediaObj=window.matchMedia(e);const n=()=>{this.matchMedia=this.mediaObj.matches,t.trigger(this.$el,t.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=t.on(this.mediaObj,"change",(()=>{n(),this.$emit("resize")})),n()}},disconnected(){var t;null==(t=this.offMediaObj)||t.call(this)}};t.memoize((async e=>e?t.startsWith(e,"data:")?decodeURIComponent(e.split(",")[1]):(await fetch(e)).text():Promise.reject()));const s={x:u,y:u,rotate:u,scale:u,color:h,backgroundColor:h,borderColor:h,blur:l,hue:l,fopacity:l,grayscale:l,invert:l,saturate:l,sepia:l,opacity:function(t,e,n){return 1===n.length&&n.unshift(v(e,t,"")),n=b(n),(e,i)=>{e[t]=$(n,i)}},stroke:function(e,n,i){1===i.length&&i.unshift(0);const r=y(i),o=function(e){return Math.ceil(Math.max(0,...t.$$("[stroke]",e).map((t=>{try{return t.getTotalLength()}catch{return 0}}))))}(n);return(i=b(i.reverse(),(e=>(e=t.toFloat(e),"%"===r?e*o/100:e)))).some((([t])=>t))?(t.css(n,"strokeDasharray",o),(t,e)=>{t.strokeDashoffset=$(i,e)}):t.noop},bgx:f,bgy:f},{keys:a}=Object;var c={mixins:[o],props:k(a(s),"list"),data:k(a(s),void 0),computed:{props(e,n){const i={};for(const n in e)n in s&&!t.isUndefined(e[n])&&(i[n]=e[n].slice());const r={};for(const t in i)r[t]=s[t](t,n,i[t],i);return r}},events:{load(){this.$emit()}},methods:{reset(){for(const e in this.getCss(0))t.css(this.$el,e,"")},getCss(t){const e={transform:"",filter:""};for(const n in this.props)this.props[n](e,t);return e.willChange=Object.keys(e).filter((t=>""!==e[t])).join(","),e}}};function u(e,n,i){let r,o=y(i)||{x:"px",y:"px",rotate:"deg"}[e]||"";return"x"===e||"y"===e?(e=`translate${t.ucfirst(e)}`,r=e=>t.toFloat(t.toFloat(e).toFixed("px"===o?0:6))):"scale"===e&&(o="",r=e=>y([e])?t.toPx(e,"width",n,!0)/n.offsetWidth:e),1===i.length&&i.unshift("scale"===e?1:0),i=b(i,r),(t,n)=>{t.transform+=` ${e}(${$(i,n)}${o})`}}function h(e,n,i){return 1===i.length&&i.unshift(v(n,e,"")),i=b(i,(e=>function(e,n){return v(e,"color",n).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(t.toFloat)}(n,e))),(n,r)=>{const[o,s,a]=x(i,r),c=o.map(((e,n)=>(e+=a*(s[n]-e),3===n?t.toFloat(e):parseInt(e,10)))).join(",");n[e]=`rgba(${c})`}}function l(t,e,n){1===n.length&&n.unshift(0);const i=y(n)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,n=b(n),(e,r)=>{const o=$(n,r);e.filter+=` ${t}(${o+i})`}}function f(e,n,i,r){1===i.length&&i.unshift(0);const o="bgy"===e?"height":"width";r[e]=b(i,(e=>t.toPx(e,o,n)));const s=["bgx","bgy"].filter((t=>t in r));if(2===s.length&&"bgx"===e)return t.noop;if("cover"===v(n,"backgroundSize",""))return function(e,n,i,r){const o=function(e){const n=t.css(e,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(p[n])return p[n];const i=new Image;return n&&(i.src=n,!i.naturalWidth)?(i.onload=()=>{p[n]=m(i),t.trigger(e,t.createEvent("load",!1))},m(i)):p[n]=m(i)}(n);if(!o.width)return t.noop;const s={width:n.offsetWidth,height:n.offsetHeight},a=["bgx","bgy"].filter((t=>t in r)),c={};for(const t of a){const e=r[t].map((([t])=>t)),n=Math.min(...e),i=Math.max(...e),o=e.indexOf(n)<e.indexOf(i),a=i-n;c[t]=(o?-a:0)-(o?n:i)+"px",s["bgy"===t?"height":"width"]+=a}const u=t.Dimensions.cover(o,s);for(const t of a){const e="bgy"===t?"height":"width",i=u[e]-s[e];c[t]=`max(${d(n,t)},-${i}px) + ${c[t]}`}const h=g(a,c,r);return(t,e)=>{h(t,e),t.backgroundSize=`${u.width}px ${u.height}px`,t.backgroundRepeat="no-repeat"}}(0,n,0,r);const a={};for(const t of s)a[t]=d(n,t);return g(s,a,r)}function d(t,e){return v(t,`background-position-${e.substr(-1)}`,"")}function g(t,e,n){return function(i,r){for(const o of t){const t=$(n[o],r);i[`background-position-${o.substr(-1)}`]=`calc(${e[o]} + ${t}px)`}}}const p={};function m(t){return{width:t.naturalWidth,height:t.naturalHeight}}function b(e,n=t.toFloat){const i=[],{length:r}=e;let o=0;for(let s=0;s<r;s++){let[a,c]=t.isString(e[s])?e[s].trim().split(" "):[e[s]];if(a=n(a),c=c?t.toFloat(c)/100:null,0===s?null===c?c=0:c&&i.push([a,0]):s===r-1&&(null===c?c=1:1!==c&&(i.push([a,c]),c=1)),i.push([a,c]),null===c)o++;else if(o){const t=i[s-o-1][1],e=(c-t)/(o+1);for(let n=o;n>0;n--)i[s-n][1]=t+e*(o-n+1);o=0}}return i}function x(e,n){const i=t.findIndex(e.slice(1),(([,t])=>n<=t))+1;return[e[i-1][0],e[i][0],(n-e[i-1][1])/(e[i][1]-e[i-1][1])]}function $(e,n){const[i,r,o]=x(e,n);return t.isNumber(i)?i+Math.abs(i-r)*o*(i<r?1:-1):+r}const w=/^-?\d+(\S+)?/;function y(t,e){for(const e of t){const t=null==e.match?void 0:e.match(w);if(t)return t[1]}return e}function v(e,n,i){const r=e.style[n],o=t.css(t.css(e,n,i),n);return e.style[n]=r,o}function k(t,e){return t.reduce(((t,n)=>(t[n]=e,t)),{})}var M={mixins:[c,e,n],props:{target:String,viewport:Number,easing:Number,start:String,end:String},data:{target:!1,viewport:1,easing:1,start:0,end:0},computed:{target:({target:e},n)=>j(e&&t.query(e,n)||n),start({start:e}){return t.toPx(e,"height",this.target,!0)},end({end:e,viewport:n}){return t.toPx(e||(n=100*(1-n))&&`${n}vh+${n}%`,"height",this.target,!0)}},resizeTargets(){return[this.$el,this.target]},update:{read({percent:e},n){if(n.has("scroll")||(e=!1),!t.isVisible(this.$el))return!1;if(!this.matchMedia)return;const i=e;return e=function(t,e){return e>=0?Math.pow(t,e+1):1-Math.pow(1-t,1-e)}(t.scrolledOver(this.target,this.start,this.end),this.easing),{percent:e,style:i!==e&&this.getCss(e)}},write({style:e}){this.matchMedia?e&&t.css(this.$el,e):this.reset()},events:["scroll","resize"]}};function j(e){return e?"offsetTop"in e?e:j(t.parent(e)):document.documentElement}return typeof window<"u"&&window.UniCore&&window.UniCore.component("parallax",M),M}));